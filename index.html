<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docker镜像加速服务</title>
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/dqzboy/Blog-Image/BlogCourse/docker-proxy.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/dqzboy/proxyui@main/style.css">
    <script src="https://cdn.jsdelivr.net/gh/dqzboy/proxyui@main/js/nav-menu.js"></script>
    <style>
        /* 添加菜单样式 */
        .nav-list li a {
            color: #333; /* 黑色字体 */
            text-decoration: none;
            font-size: 16px;
            font-weight: bold;
            padding: 8px 15px;
            border-radius: 4px;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .nav-list li a:hover {
            background-color: #3D7CF4; /* 蓝色背景 */
            color: #fff; /* 白色字体 */
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="/" class="logo-link">
                <img src="https://cdn.jsdelivr.net/gh/dqzboy/Blog-Image/BlogCourse/docker-proxy.png" alt="Logo" class="logo">
            </a>
            <nav class="nav-menu" id="navMenu">
                <!-- 固定的菜单项 -->
                <ul class="nav-list">
                    <li><a href="/">首页</a></li>
                    <li><a href="https://github.com/dqzboy/Docker-Proxy" target="_blank">GitHub</a></li>
                    <li><a href="https://dqzboy.github.io/proxyui/racknerd" target="_blank">VPS推荐</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
        <h1 class="page-title">Docker镜像加速服务</h1>
        <p class="page-subtitle">快速拉取 Docker 镜像，无需担心网络问题，轻松部署你的容器应用</p>
        
        <div class="tab-container">
            <div class="tab active" onclick="switchTab('accelerate')">
                <i class="fas fa-rocket"></i> 镜像加速
            </div>
            <div class="tab" onclick="switchTab('search')">
                <i class="fas fa-search"></i> 镜像搜索
            </div>
            <div class="tab" onclick="switchTab('documentation')">
                <i class="fas fa-book"></i> 使用教程
            </div>
        </div>

        <!-- 镜像加速内容 -->
        <div id="accelerateContent" class="content active">
            <div class="input-group">
                <input type="text" id="imageInput" 
                       placeholder="输入镜像名称，例如：nginx 或 mysql:5.7" 
                       onkeypress="if(event.key === 'Enter') generateCommands()" 
                       autofocus>
                <button onclick="generateCommands()">
                    <i class="fas fa-bolt"></i> 获取加速命令
                </button>
            </div>
            
            <div id="result" style="display:none;">
                <h2><i class="fas fa-terminal"></i> 加速命令</h2>
                <div id="commandsContainer"></div>
            </div>
            
            <div class="features">
                <div class="feature-card">
                    <i class="fas fa-tachometer-alt"></i>
                    <h3>高速拉取</h3>
                    <p>通过优化的代理网络，加速Docker镜像拉取</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-shield-alt"></i>
                    <h3>稳定可靠</h3>
                    <p>解决网络问题导致的拉取失败，提高部署成功率</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-magic"></i>
                    <h3>简单易用</h3>
                    <p>一键生成加速命令，无需复杂配置，立即开始使用</p>
                </div>
            </div>
        </div>

        <!-- 搜索内容 -->
        <div id="searchContent" class="content">
            <div class="search-container">
                <input type="text" id="searchInput" 
                       placeholder="输入关键词搜索Docker镜像，例如：nginx、mysql、redis..." 
                       onkeypress="if(event.key === 'Enter') searchDockerHub(1)">
                <button onclick="searchDockerHub(1)">
                    <i class="fas fa-search"></i> 搜索镜像
                </button>
            </div>
            
            <!-- 搜索结果容器 -->
            <div id="searchResultsContainer">
                <!-- 搜索结果列表 -->
                <div id="searchResultsList">
                    <div id="searchResults"></div>
                    
                    <!-- 分页控件 -->
                    <div class="pagination-container" id="paginationContainer" style="display: none;">
                        <button id="prevPageBtn" onclick="searchDockerHub(currentPage - 1)" disabled>
                            <i class="fas fa-chevron-left"></i> 上一页
                        </button>
                        <span id="pageInfo">第 1 页</span>
                        <button id="nextPageBtn" onclick="searchDockerHub(currentPage + 1)">
                            下一页 <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>

                <!-- 标签视图 -->
                <div id="imageTagsView" style="display: none;" class="image-tags-view">
                    <div class="tag-header">
                        <div class="tag-breadcrumb">
                            <a href="javascript:void(0);" onclick="showSearchResults()">返回搜索结果</a>
                        </div>
                        <h2 id="currentImageTitle"></h2>
                        <p id="imageDescription" class="image-description"></p>
                        <div class="image-meta">
                            <span id="imageStars"></span>
                            <span id="imagePulls"></span>
                        </div>
                    </div>
                    
                    <div class="tag-search-container">
                        <input type="text" id="tagSearchInput" placeholder="搜索TAG..." onkeyup="filterTags()">
                    </div>
                    
                    <div id="tagsResults"></div>
                    
                    <div class="pagination-container" id="tagPaginationContainer" style="display: none;">
                        <button id="tagPrevPageBtn" onclick="loadImageTags(currentTagPage - 1)" disabled>
                            <i class="fas fa-chevron-left"></i> 上一页
                        </button>
                        <span id="tagPageInfo">第 1 页</span>
                        <button id="tagNextPageBtn" onclick="loadImageTags(currentTagPage + 1)">
                            下一页 <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 底部特性说明 -->
            <div class="features">
                <div class="feature-card">
                    <i class="fas fa-search"></i>
                    <h3>快速搜索</h3>
                    <p>便捷地搜索Docker Hub上的所有可用镜像</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-tag"></i>
                    <h3>版本管理</h3>
                    <p>查看所有可用的镜像标签和版本信息</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-rocket"></i>
                    <h3>一键部署</h3>
                    <p>快速获取并使用所需的Docker镜像</p>
                </div>
            </div>
        </div>

        <!-- 文档内容 -->
        <div id="documentationContent" class="content">
            <div id="documentList">
                        <h2>文档目录</h2>
                <ul class="doc-list">
                    <li class="doc-item" data-id="docker-config">
                        <a href="javascript:void(0)" onclick="showDocContent('docker-config')" class="active">
                                    <i class="fas fa-file-alt"></i>
                            <span>Docker 配置镜像加速</span>
                                </a>
                            </li>
                </ul>
                        </div>
            <div id="documentationText">
                <div class="doc-content">
                    <h1>Docker 配置镜像加速</h1>
                    <p>修改文件 <code>/etc/docker/daemon.json</code>（如果不存在则创建）</p>
                    <pre><code>sudo mkdir -p /etc/docker
sudo vi /etc/docker/daemon.json
{
  "registry-mirrors": ["https://&lt;代理加速地址&gt;"]
}

sudo systemctl daemon-reload
sudo systemctl restart docker</code></pre>
                        </div>
                <div class="doc-meta">
                    <span>最后更新: 2025-04-01</span>
                        </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>Copyright © <span id="currentYear"></span> <span class="copyright-text">Docker-Proxy</span> All Rights Reserved. <a href="https://github.com/dqzboy/Docker-Proxy" target="_blank">GitHub</a></p>
    </footer>

    <!-- 添加必要的JavaScript文件 -->
    <script src="js/core.js"></script>
    <script src="js/app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/2.0.3/marked.min.js"></script>

    <!-- 恢复基本导航功能 -->
    <script>
        // 标签切换功能
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.content');
            const features = document.querySelector('#searchContent .features');
        
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
        
        // 确定激活哪个标签
            let tabIndex = 1;
            if (tabName === 'search') {
                tabIndex = 2;
                // 只有在没有搜索结果时显示底部特性说明
                const searchResults = document.getElementById('searchResults');
                if (!searchResults.innerHTML.trim()) {
                    features.style.display = 'grid';
                }
            } else if (tabName === 'documentation') {
                tabIndex = 3;
            }
            
            document.querySelector(`.tab:nth-child(${tabIndex})`).classList.add('active');
            document.getElementById(`${tabName}Content`).classList.add('active');
    }
    
    // 显示文档内容
    function showDocContent(docId) {
        // 高亮选中的文档项
            const docLinks = document.querySelectorAll('.doc-list li a');
        docLinks.forEach(link => {
            if (link.parentElement.dataset.id === docId) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
            
        // 如果有多个文档，这里可以根据docId显示不同内容
    }
    
    // 初始化时设置年份
        document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        });
    </script>
</body>
</html>
